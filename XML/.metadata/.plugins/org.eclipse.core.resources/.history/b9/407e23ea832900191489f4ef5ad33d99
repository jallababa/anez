<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"  targetNamespace="https://schema.caleaccess.com/cwo2exportservice/purchase/3/" elementFormDefault="qualified">
  <xs:element name="Purchases">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="Purchase" minOccurs="0" maxOccurs="unbounded">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="PurchasePayUnit" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                  <xs:attribute name="PayUnitID" type="xs:int" use="optional"/>
                  <!-- Optional due to this attribute is missing for batch export-->
                  <xs:attribute name="PayUnitName" type="xs:string" use="required"/>
                  <xs:attribute name="Amount" type="xs:float" use="required"/>
                  <xs:attribute name="CardIssuer" type="xs:string" use="optional"/>
                  <xs:attribute name="MaskedPAN" type="xs:string" use="optional"/>
                  <xs:attribute name="BankAuthorizationReference" type="xs:string" use="optional"/>
                  <xs:attribute name="TransactionReference" type="xs:string" use="optional"/>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="PurchaseGuid" type="xs:string" use="required"/>
            <xs:attribute name="TerminalGuid" type="xs:string" use="required"/>
            <xs:attribute name="TerminalID" type="xs:string" use="required"/>
            <xs:attribute name="PurchaseDateLocal" type="xs:dateTime" use="required"/>
            <xs:attribute name="PurchaseDateUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="StartDateLocal" type="xs:dateTime" use="required"/>
            <xs:attribute name="StartDateUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="PayIntervalStartLocal" type="xs:dateTime" use="required"/>
            <xs:attribute name="PayIntervalStartUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="PayIntervalEndLocal" type="xs:dateTime" use="required"/>
            <xs:attribute name="PayIntervalEndUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="EndDateLocal" type="xs:dateTime" use="required"/>
            <xs:attribute name="EndDateUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="TicketNumber" type="xs:int" use="required"/>
            <xs:attribute name="Units" type="xs:int" use="required"/>
            <xs:attribute name="Amount" type="xs:float" use="required"/>
            <xs:attribute name="VAT" type="xs:float" use="required"/>
            <xs:attribute name="CurrencyCode" type="xs:string" use="required"/>
            <xs:attribute name="TariffPackageID" type="xs:int" use="required"/>
            <xs:attribute name="ArticleID" type="xs:int" use="required"/>
            <xs:attribute name="ArticleName" type="xs:string" use="required"/>
            <xs:attribute name="Code" type="xs:string" use="optional"/>
            <xs:attribute name="ExternalID" type="xs:string" use="optional"/>
            <xs:attribute name="DateCreatedUtc" type="xs:dateTime" use="required"/>
            <xs:attribute name="PurchaseStateName" type="xs:string" use="required" />
            <xs:attribute name="PaymentServiceType" type="xs:string" use="required" />
            <xs:attribute name="PurchaseTriggerTypeName" type="xs:string" use="optional" />
          </xs:complexType>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="Records" type="xs:int" use="required"/>
    </xs:complexType>
  </xs:element>
</xs:schema>
